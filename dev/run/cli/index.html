<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How to run Express from command line · Express.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://MineralsCloud.github.io/Express.jl/run/cli/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Express.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Express.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../installation/">Installation guide</a></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox" checked/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Running</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../configuration/">Configuration files</a></li><li class="is-active"><a class="tocitem" href>How to run <code>Express</code> from command line</a></li><li><a class="tocitem" href="../jobs/">Tracking and monitoring jobs in a workflow</a></li></ul></li></ul></li><li><a class="tocitem" href="../../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../../faq/">FAQ</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li><a class="is-disabled">Running</a></li><li class="is-active"><a href>How to run <code>Express</code> from command line</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How to run <code>Express</code> from command line</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/MineralsCloud/Express.jl/blob/master/docs/src/run/cli.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="How-to-run-Express-from-command-line"><a class="docs-heading-anchor" href="#How-to-run-Express-from-command-line">How to run <code>Express</code> from command line</a><a id="How-to-run-Express-from-command-line-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-run-Express-from-command-line" title="Permalink"></a></h1><p>To carry out a computation, first, users need to prepare the input files introduced in section &quot;<a href="../configuration/#Configuration-files">Configuration files</a>&quot;. Then if <a href="../../installation/#cli">the <code>xps</code> command</a> is installed, run in terminal:</p><pre><code class="language-shell hljs">xps run eos.toml  # equation of state workflow
xps run vdos.toml  # phonon workflow
xps run qha.toml  # QHA workflow</code></pre><p>As explained in &quot;<a href="../configuration/#Configuration-files">Configuration files</a>&quot;, the file name (<code>eos.toml</code>, etc.) of the configuration file does not matter. It is the <code>recipe</code> field that determines the type of workflow.</p><p>It is often suggested to put the above commands in a script file with a header and submit it to a workload manager like <a href="https://www.schedmd.com/">Slurm</a>. However, users can also request an interactive session and run code Julia REPL.</p><pre><code class="language-julia-repl hljs">julia&gt; using Express.EquationOfStateWorkflow.Recipes

julia&gt; using QuantumESPRESSOExpress

julia&gt; workflow = buildworkflow(&quot;eos.toml&quot;);

julia&gt; run!(workflow);</code></pre><p>For phonon and the QHA workflow, run <code>using Express.PhononWorkflow.Recipes</code> and <code>using Express.QuasiHarmonicApproxWorkflow.Recipes</code> in the first step.</p><p>In an EOS workflow, the final results include outputs returned by Quantum ESPRESSO, a list of raw data (volume-energy pairs), and a fitted EOS. If something goes wrong, the workflow might be terminated. The state of the workflow (i.e., the status of each job) and errors will be saved in a file for debugging. Once the bug is fixed, run <code>xps run &lt;path-to-config-file&gt;</code> again, and <code>express</code> will retry the failed jobs. To print either input or output data in a formatted, readable form, run</p><pre><code class="language-shell hljs">xps print &lt;file-name&gt;</code></pre><p>where the allowed extensions of <code>&lt;file-name&gt;</code> are <code>.jld2</code>, <code>.json</code>, <code>.yaml</code> or <code>.yml</code>, and <code>.toml</code>. The last four extensions correspond to three human-readable data-serialization file formats, i.e., <a href="https://www.json.org/json-en.html">JSON</a>, <a href="https://yaml.org/">YAML</a>, and <a href="https://toml.io/en/">TOML</a>, while <code>.jld2</code> is a binary serialization format only recognizable to Julia. For example,</p><pre><code class="language-shell hljs">xps print eos.toml
xps print raw.json
xps print eos.jld2</code></pre><p><code>express</code> can also plot some data, such as the fitted EOS applied to a certain range of volumes along with the raw data. The corresponding command is</p><pre><code class="language-shell hljs">xps plot &lt;file-name&gt;</code></pre><p>where <code>&lt;file-name&gt;</code> refers to the EOS binary file with extension <code>.jld2</code>.</p><p>These are the three most important commands of <code>express</code>. These catchy commands cover all the functionalities we have promised, including but not limited to unit conversion, pseudopotential downloading, input validation and generation, calculation monitoring, task distribution, gathering and analysis of results, error handling, logging, and visualization. We hope they can facilitate tedious work as much as possible.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../configuration/">« Configuration files</a><a class="docs-footer-nextpage" href="../jobs/">Tracking and monitoring jobs in a workflow »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.20 on <span class="colophon-date" title="Tuesday 12 July 2022 06:21">Tuesday 12 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
